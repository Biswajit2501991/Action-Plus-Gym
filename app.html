<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Action Plus Gym Management</title>
  <link rel="stylesheet" href="style.css">
  <!-- Include jsPDF for generating PDFs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="app-page">
  <!-- Top header bar -->
  <header class="header-bar">
    <div class="admin-icon" onclick="toggleSidebar()">‚ò∞</div>
    <div class="search-container">
      <input type="text" id="searchBar" placeholder="Search members..." oninput="performSearch()">
      <span class="search-icon">üîç</span>
    </div>
    <div class="header-icons">
      <button id="mobileToggle" title="Toggle mobile view" onclick="toggleMobileView()">üì±</button>
      <button id="logoutButton" title="Logout" onclick="logout()">Logout</button>
    </div>
  </header>

  <div class="app-container">
    <!-- Sidebar navigation -->
    <aside id="sidebar" class="sidebar">
      <nav>
        <ul>
          <li onclick="showSection('dashboard')">Dashboard</li>
          <li onclick="showSection('members')">Add/Update Members</li>
          <li onclick="showSection('sms')">WhatsApp SMS</li>
          <li onclick="showSection('finance')">Finance</li>
          <li onclick="showSection('staff')">Staff</li>
          <li onclick="showSection('settings')">Settings</li>
          <li onclick="showSection('logs')">Admin Logs</li>
        </ul>
      </nav>
    </aside>

    <!-- Main content area -->
    <main id="mainContent" class="main-content">
      <!-- Dashboard Section -->
      <section id="dashboardSection" class="section">
        <h2>Dashboard</h2>
        <table id="dashboardTable">
          <thead>
            <tr>
              <th>Form #</th>
              <th>ID</th>
              <th>Name</th>
              <th>Gender</th>
              <th>DOB</th>
              <th>Email</th>
              <th>Mobile</th>
              <th>Plan</th>
              <th>Amount</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="dashboardBody">
          </tbody>
        </table>
      </section>

      <!-- Add/Update Members Section -->
      <section id="membersSection" class="section">
        <h2>Add/Update Members</h2>
        <form id="memberForm" onsubmit="event.preventDefault(); saveMember();">
          <div class="form-grid">
            <!-- Personal Information -->
            <div class="form-box">
              <h3>Personal Information
                <button type="button" class="clear-section-btn" title="Clear personal information" onclick="clearPersonalInfo()">Clear</button>
              </h3>
              <label>Name*
                <input type="text" id="mName" required>
              </label>
              <label>Date of Birth*
                <input type="date" id="mDob" placeholder="dd/mm/yyyy" required>
              </label>
              <label>Gender*
                <select id="mGender" required>
                  <option value="">Select</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>
              </label>
              <label>Mobile Number (WhatsApp)*
                <input type="text" id="mMobile" placeholder="Enter 10 digit number" required>
              </label>
              <label>Upload Photo
                <input type="file" id="mPhoto" accept="image/*" onchange="previewMemberPhoto(event)">
                <div class="photo-preview" onclick="document.getElementById('mPhoto').click()">
                  <img id="mPhotoPreview" alt="Preview" style="display:none;">
                  <span id="mPhotoPlaceholder">Click to upload photo</span>
                </div>
              </label>
              <label>Gmail ID
                <input type="email" id="mEmail">
              </label>
              <label>Address
                <textarea id="mAddress"></textarea>
              </label>
            </div>
            <!-- Management Information -->
            <div class="form-box">
              <h3>Management Information
                <button type="button" class="clear-section-btn" title="Clear management information" onclick="clearManagementInfo()">Clear</button>
              </h3>
              <label>Form Number
                <input type="text" id="mFormNumber">
              </label>
              <label>ID (Auto)
                <input type="text" id="mId" readonly>
              </label>
              <label>Staff Name
                <input type="text" id="mStaff" readonly>
              </label>
              <label>Membership Amount*
                <input type="number" id="mAmount" required>
              </label>
              <label>Membership Plan*
                <select id="mPlan" required>
                  <option value="">Select Plan</option>
                  <option value="Basic Plan">Basic Plan</option>
                  <option value="Basic-Weekly-Plan">Basic-Weekly-Plan</option>
                  <option value="Personal Trainer (PT) - RAJA">PT - RAJA</option>
                  <option value="Yoga">Yoga</option>
                  <option value="1 Week PT">1 Week PT</option>
                  <option value="2 Week PT">2 Week PT</option>
                  <option value="3 Months Basic">3 Months Basic</option>
                  <option value="6 Months Basic">6 Months Basic</option>
                  <option value="PT - Kaushik">PT - Kaushik</option>
                  <option value="PT - Biswajit">PT - Biswajit</option>
                </select>
              </label>
              <label>Joining Date*
                <input type="date" id="mJoin" required>
              </label>
              <label>Billing Date*
                <input type="date" id="mBill" required>
              </label>
              <label>Status*
                <select id="mStatus" onchange="toggleHoldField()" required>
                  <option value="Active">Active</option>
                  <option value="Hold">Hold</option>
                  <option value="Deactivated">Deactivated</option>
                  <option value="Cancelled">Cancelled</option>
                </select>
              </label>
              <label>Hold Duration
                <select id="mHold">
                  <option value="">Select duration</option>
                  <option value="1 Month">1 Month</option>
                  <option value="2 Months">2 Months</option>
                  <option value="3 Months">3 Months</option>
                  <option value="4 Months">4 Months</option>
                  <option value="5 Months">5 Months</option>
                  <option value="6 Months">6 Months</option>
                  <option value="Rejoining 6-12 months">Rejoining 6-12 months</option>
                  <option value="Readmission after 1 year">Readmission after 1 year</option>
                </select>
              </label>
              <label>Payment Method*
                <select id="mPaymentMethod" required>
                  <option value="">Select method</option>
                  <option value="Cash">Cash</option>
                  <option value="Google Pay">Google Pay</option>
                  <option value="PhonePe">PhonePe</option>
                  <option value="Cash+Online">Cash+Online</option>
                </select>
              </label>
              <label>Payment Month
                <select id="mPayMonth"></select>
              </label>
            </div>
            <!-- Other Information -->
            <div class="form-box">
              <h3>Other Information</h3>
              <label>Remark*
                <textarea id="mRemark" required></textarea>
              </label>
              <div class="button-row">
                <button type="submit">Save</button>
                <button type="button" onclick="updateMember()">Update</button>
                <button type="button" onclick="clearMemberForm()">Clear</button>
                <button type="button" onclick="showOverview()">Next</button>
              </div>
            </div>
          </div>
        </form>
        <!-- Member Overview -->
        <div id="overviewSection" style="display:none;">
          <h3>Member Overview</h3>
          <div id="overviewContent"></div>
          <button onclick="hideOverview()">Back to Edit</button>
        </div>
      </section>

      <!-- WhatsApp SMS Section -->
      <section id="smsSection" class="section" style="display:none;">
        <h2>WhatsApp SMS</h2>
        <p>Coming soon: Send success, reminder, hold or deactivation messages based on date range.</p>
      </section>

      <!-- Finance Section -->
      <section id="financeSection" class="section" style="display:none;">
        <h2>Finance</h2>
        <p>Coming soon: View and filter payment collections by payment type and date range.</p>
      </section>

      <!-- Staff Section -->
      <section id="staffSection" class="section" style="display:none;">
        <h2>Staff Management</h2>
        <p>Coming soon: Add or remove staff, assign permissions and view access rights.</p>
      </section>

      <!-- Settings Section -->
      <section id="settingsSection" class="section" style="display:none;">
        <h2>Settings</h2>
        <p>Coming soon: Configure system settings and dropdown values.</p>
      </section>

      <!-- Admin Logs Section -->
      <section id="logsSection" class="section" style="display:none;">
        <h2>Admin Logs</h2>
        <p>Coming soon: View staff activity logs for the last 90 days.</p>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>